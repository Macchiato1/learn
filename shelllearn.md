# shell Learn

## 单引号变量不识别特殊语法
# bash 学习
*** 
pstree 查看进程树
### 每次调用bash都会开启子shell，子shell的变量作用域作用不到父shell，如果要打印子shell里面的变量就先source x.sh 然受输出x.sh里面的变量。

- shell 变量通过环境变量确定登陆的用户名、PATH路径和文件系统等
- 环境变量可以临时创建，如果要永久更新就要修改配置文件

***
- 用户个人配置文件~/.bash_profile 、 ~/.bashrc 远程登录用户特有文件
- 全局配置文件 /etc/profile 、 /etc/bashrc ,且系统建议最好创建在 /etc/profile.d/,而非直接修改主文件，修改全局配置文件，影响素有登陆系统系统的用户

## 检查系统环境变量 （set **输出所有文件，包括全局变量、局部变量** ，env **只显示全局变量**，declare **输出所有变量**，export “显示和设置环境变量值” ）

先输出全局配置文件中的变量

## 撤销环境变量 
- unset 变量名，删除变量或者函数

```
## 设置只读变量 readonly 
readonly name = "gzh"
name = "chaochao"
-bash:name:只读变量
```
如何取到变量的名字 
`  export |awk -F '[ :=]' '{print $3}' 中间是分隔符，$3表示第三列

##特殊变量

```
$0  获取shell脚本文件名,以及脚本路径
$n  获取shell脚本的第n个参数 大于$9 需要写${10}
$#  获取执行的shell脚本后面的参数总个数
$*  获取shell脚本所有参数 ,"$*"等同于接受所有参数为单个字符串，
$@  加引号，接受所有参数为独立字符串，如 “$1”
```
## 特殊状态变量

```
$? 上一次命令执行状态返回值，0正确，非0失败
$$ 当前shell脚本的进程号
$! 上一次后台进程的PID
$_ 获取上个命令最后一个参数
```

nohup 忽略输出
shell 中#用于取出变量的长度
`echo {#name}
